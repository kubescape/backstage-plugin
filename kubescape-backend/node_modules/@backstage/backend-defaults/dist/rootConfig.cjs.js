'use strict';

var createConfigSecretEnumerator = require('./cjs/createConfigSecretEnumerator-DShyoWWL.cjs.js');
var backendPluginApi = require('@backstage/backend-plugin-api');
var configLoader = require('@backstage/config-loader');
require('@manypkg/get-packages');

const rootConfigServiceFactory = backendPluginApi.createServiceFactory(
  (options) => ({
    service: backendPluginApi.coreServices.rootConfig,
    deps: {},
    async factory() {
      const source = configLoader.ConfigSources.default({
        argv: options?.argv,
        remote: options?.remote,
        watch: options?.watch
      });
      console.log(`Loading config from ${source}`);
      return await configLoader.ConfigSources.toConfig(source);
    }
  })
);

exports.createConfigSecretEnumerator = createConfigSecretEnumerator.createConfigSecretEnumerator;
exports.rootConfigServiceFactory = rootConfigServiceFactory;
//# sourceMappingURL=rootConfig.cjs.js.map
